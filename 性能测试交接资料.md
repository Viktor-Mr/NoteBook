# 性能测试交接资料

参考资料均来自testerhome，测试工具官方文档，部分源于CSDN博客

* 测试工具（jmeter）
  * 工具安装
    * 安装Java环境
      * 目前适配Java安装包为java-11-openjdk.x86_64，后面更新根据jmeter要求更新，具体详看官网
    * jmeter 部署：
      * 工具下载：https://jmeter.apache.org/download_jmeter.cgi
        * ![image-20200330115727377](/Users/alexpan/Library/Application Support/typora-user-images/image-20200330115727377.png)
      * 插件下载（必须）：
        * 下载链接：https://jmeter-plugins.org/install/Install/
        * 说明：Download plugins-manger and put it into `lib/ext` directory, then restart JMeter.（将插件包放在目录lib/ext）
        * 测试常用插件
          * https://jmeter-plugins.org/?search=jpgc-casutg
            * 插件 Concurrency Thread Group
* 测试场景
  * 接口测试用例
  * 压测目标指标（指标QPS越大，执行用户数越大，测试尽量做到1qps=1用户）
  * 测试控制器：
    * 常用控制器：
      * TPS控制器
      * 后台数据监控器
    * 常用测试函数：
      * ${__CSVRead(,)}；读取csv文件（常用于读取token，或用户信息）
      * ${__RandomString(,,)}；生成自定义长度的字符串(常用于生成11位数手机号，随机验证码)
* 监控环境
  * 监控工具部署
    * influx DB：
      * 数据库部署：
        * 所在服务器：47.112.104.149
      * shell 操作：
        * 登入数据库：docker exec -it influx1-7 bash -c 'influx'
        * 官方文档：shell操作数据库
          * https://docs.influxdata.com/influxdb/v1.7/introduction/getting-started/
    * Grafana图表配置：
      * 域名：http://grafana.inrice.top:3000/
      * 服务部署：14.116.206.138
* 报告分析
  * 影响结果的因素：https://blog.csdn.net/weiwenhp/article/details/85239105
    * 硬件：服务器CPU，CPU负载，内存，网络（营销活动业务常关注点：CPU，CPU负载，压测工具所在服务器带宽）
    * 系统：系统发行版本有可能会存在影响压测的因素（通常为压测工具部署的服务器）
    * 中间件，数据库：关注点Redis，Mysql数据库性能（通常为CPU，内存）
    * 应用程序：泛指代码层（暂时不需要），需要关注该层级则需要测试人员懂代码，可以单方面执行code review